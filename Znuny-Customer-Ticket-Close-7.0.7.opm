<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>Znuny-Customer-Ticket-Close</Name>
    <Version>7.0.7</Version>
    <Vendor>mo-azfar</Vendor>
    <URL>https://github.com/mo-azfar</URL>
    <License>GNU GENERAL PUBLIC LICENSE Version 3, 29 June 2007</License>
    <ChangeLog Date="2024-01-25 10:00:00 +0800" Version="7.0.1">New package.</ChangeLog>
    <ChangeLog Date="2024-01-25 11:00:00 +0800" Version="7.0.2">Use public portal instead of customer portal.</ChangeLog>
    <ChangeLog Date="2024-01-25 12:00:00 +0800" Version="7.0.3">Set one clik url only for registered customer.</ChangeLog>
    <ChangeLog Date="2024-01-25 15:00:00 +0800" Version="7.0.4">Update code.</ChangeLog>
    <ChangeLog Date="2024-01-25 16:00:00 +0800" Version="7.0.5">Add dynamic field config.</ChangeLog>
    <ChangeLog Date="2024-01-30 10:00:00 +0800" Version="7.0.6">Use menu button instead of widget button.</ChangeLog>
    <ChangeLog Date="2024-01-19 07:00:00 +0800" Version="7.0.7">Change directory to default.</ChangeLog>
    <Description Lang="en">Allow customer to close their ticket via one-time link (public portal) provided by the agent reply</Description>
    <Framework>7.0.x</Framework>
    <IntroInstall Lang="en" Title="Install Information" Type="pre">
        &lt;br/&gt;
        &lt;b&gt;WELCOME&lt;/b&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        You are about to install the package Znuny-Customer-Ticket-Close.Check &lt;a href='https://github.com/mo-azfar/Znuny-Customer-Ticket-Close' target='_blank'/&gt;README&lt;/a&gt;&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        &lt;b&gt;Click 'GENERATE TIKET CLOSE SESSION' at ticket zoom menu first and then you good to go.
        &lt;br/&gt;
        &lt;br/&gt;
        &lt;b&gt;Append one click URL at agent reply - check github&lt;br/&gt;&lt;br/&gt;
        &lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
        ((enjoy))&lt;br/&gt;
        &lt;br/&gt;
    </IntroInstall>
    <IntroUpgrade Lang="en" Title="Upgrade Information" Type="pre">
        &lt;br/&gt;
        Changelog&lt;br/&gt;
        7.0.1 - New package.&lt;br/&gt;
        7.0.2 - Use public portal instead of customer portal.&lt;br/&gt;
        7.0.3 - Set one clik url only for registered customer.&lt;br/&gt;
        7.0.4 - Update code.&lt;br/&gt;
        7.0.5 - Add dynamic field config.&lt;br/&gt;
        7.0.6 - Use menu button instead of widget button.&lt;br/&gt;
        7.0.7 - Change directory to default.
        &lt;br/&gt;&lt;br/&gt;
        ((enjoy))&lt;br/&gt;
        &lt;br/&gt;
    </IntroUpgrade>
    <CodeInstall Type="post">
my $ZnunyHelperObject = $Kernel::OM-&gt;Get('Kernel::System::ZnunyHelper');
my @DynamicFields = (
        {
            Name       =&gt; 'CustomerSession',
            Label      =&gt; &quot;Customer Session&quot;,
            ObjectType =&gt; 'Ticket',
            FieldType  =&gt; 'Text',
            Config     =&gt; {
                DefaultValue =&gt; &quot;&quot;,
            },
        },
    );
my $Result = $ZnunyHelperObject-&gt;_DynamicFieldsCreateIfNotExists( @DynamicFields );
</CodeInstall>
    <BuildDate>2024-03-19 07:41:49</BuildDate>
    <BuildHost>app.wsl.my</BuildHost>
    <Filelist>
        <File Location="Kernel/Config/Files/XML/ZZZPublicTicketClose.xml" Permission="644" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxvdHJzX2NvbmZpZyB2ZXJzaW9uPSIyLjAiIGluaXQ9IkFwcGxpY2F0aW9uIj4NCiAgICA8U2V0dGluZyBOYW1lPSJUaWNrZXQ6OkZyb250ZW5kOjpNZW51TW9kdWxlIyMjNDQ5LUN1c3RvbWVyU2Vzc2lvbiIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4NCiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+U2hvd3MgYSBsaW5rIGluIHRoZSBtZW51IHRvIGdlbnJlYXRlIGEgY3VzdG9tZXIgc2Vzc2lvbiBpbiB0aGUgdGlja2V0IHpvb20gdmlldyBvZiB0aGUgYWdlbnQgaW50ZXJmYWNlLjwvRGVzY3JpcHRpb24+DQogICAgICAgIDxOYXZpZ2F0aW9uPkZyb250ZW5kOjpBZ2VudDo6Vmlldzo6VGlja2V0Wm9vbTo6TWVudU1vZHVsZTwvTmF2aWdhdGlvbj4NCiAgICAgICAgPFZhbHVlPg0KICAgICAgICAgICAgPEhhc2g+DQogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJNb2R1bGUiPktlcm5lbDo6T3V0cHV0OjpIVE1MOjpUaWNrZXRNZW51OjpHZW5lcmljPC9JdGVtPg0KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTmFtZSIgVHJhbnNsYXRhYmxlPSIxIj5HZW5lcmF0ZSBUaWNrZXQgQ2xvc2UgU2Vzc2lvbjwvSXRlbT4NCiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkRlc2NyaXB0aW9uIiBUcmFuc2xhdGFibGU9IjEiPkdlbmVyYXRlIFRpY2tldCBDbG9zZSBTZXNzaW9uIGZvciBDdXN0b21lcjwvSXRlbT4NCiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkFjdGlvbiI+QWdlbnRUaWNrZXRDdXN0b21lclNlc3Npb248L0l0ZW0+DQogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJMaW5rIj5BY3Rpb249QWdlbnRUaWNrZXRDdXN0b21lclNlc3Npb247VGlja2V0SUQ9WyUgRGF0YS5UaWNrZXRJRCB8IGh0bWwgJV08L0l0ZW0+DQogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJUYXJnZXQiPjwvSXRlbT4NCiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IlBvcHVwVHlwZSI+PC9JdGVtPg0KICAgICAgICAgICAgPC9IYXNoPg0KICAgICAgICA8L1ZhbHVlPg0KICAgIDwvU2V0dGluZz4NCiAgICA8U2V0dGluZyBOYW1lPSJQdWJsaWNGcm9udGVuZDo6TW9kdWxlIyMjUHVibGljVGlja2V0Q2xvc2UiIFJlcXVpcmVkPSIwIiBWYWxpZD0iMSI+DQogICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPkZyb250ZW5kIG1vZHVsZSByZWdpc3RyYXRpb24gZm9yIHRoZSBQdWJsaWMgaW50ZXJmYWNlLjwvRGVzY3JpcHRpb24+DQogICAgICAgIDxOYXZpZ2F0aW9uPkZyb250ZW5kOjpQdWJsaWM6Ok1vZHVsZVJlZ2lzdHJhdGlvbjwvTmF2aWdhdGlvbj4NCiAgICAgICAgPFZhbHVlPg0KICAgICAgICAgICAgPEl0ZW0gVmFsdWVUeXBlPSJGcm9udGVuZFJlZ2lzdHJhdGlvbiI+DQogICAgICAgICAgICAgICAgPEhhc2g+DQogICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iR3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPEFycmF5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9BcnJheT4NCiAgICAgICAgICAgICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ikdyb3VwUm8iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPEFycmF5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9BcnJheT4NCiAgICAgICAgICAgICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkRlc2NyaXB0aW9uIiBUcmFuc2xhdGFibGU9IjEiPkNsb3NlIHRpY2tldHMuPC9JdGVtPg0KICAgICAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ik5hdkJhck5hbWUiPlRpY2tldDwvSXRlbT4NCiAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJUaXRsZSIgVHJhbnNsYXRhYmxlPSIxIj5DbG9zZSBUaWNrZXQ8L0l0ZW0+DQogICAgICAgICAgICAgICAgPC9IYXNoPg0KICAgICAgICAgICAgPC9JdGVtPg0KICAgICAgICA8L1ZhbHVlPg0KICAgIDwvU2V0dGluZz4NCgk8U2V0dGluZyBOYW1lPSJMb2FkZXI6Ok1vZHVsZTo6UHVibGljVGlja2V0Q2xvc2UjIyMwMDItVGlja2V0IiBSZXF1aXJlZD0iMCIgVmFsaWQ9IjEiPg0KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Mb2FkZXIgbW9kdWxlIHJlZ2lzdHJhdGlvbiBmb3IgdGhlIHB1YmxpYyBpbnRlcmZhY2UuPC9EZXNjcmlwdGlvbj4NCiAgICAgICAgPE5hdmlnYXRpb24+RnJvbnRlbmQ6OlB1YmxpYzo6TW9kdWxlUmVnaXN0cmF0aW9uOjpMb2FkZXI8L05hdmlnYXRpb24+DQogICAgICAgIDxWYWx1ZT4NCiAgICAgICAgICAgIDxIYXNoPg0KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iSmF2YVNjcmlwdCI+DQogICAgICAgICAgICAgICAgICAgIDxBcnJheT4NCiAgICAgICAgICAgICAgICAgICAgPC9BcnJheT4NCiAgICAgICAgICAgICAgICA8L0l0ZW0+DQoJCQkJPEl0ZW0gS2V5PSJDU1MiPg0KICAgICAgICAgICAgICAgICAgICA8QXJyYXk+DQogICAgICAgICAgICAgICAgICAgIDwvQXJyYXk+DQogICAgICAgICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgICAgPC9IYXNoPg0KICAgICAgICA8L1ZhbHVlPg0KICAgIDwvU2V0dGluZz4NCgk8U2V0dGluZyBOYW1lPSJGcm9udGVuZDo6TW9kdWxlIyMjQWdlbnRUaWNrZXRDdXN0b21lclNlc3Npb24iIFJlcXVpcmVkPSIwIiBWYWxpZD0iMSI+DQogICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPkZyb250ZW5kTW9kdWxlUmVnaXN0cmF0aW9uIGZvciBBZ2VudFRpY2tldEN1c3RvbWVyU2Vzc2lvbiBtb2R1bGUuPC9EZXNjcmlwdGlvbj4NCiAgICAgICAgPE5hdmlnYXRpb24+RnJvbnRlbmQ6OkFnZW50OjpNb2R1bGVSZWdpc3RyYXRpb248L05hdmlnYXRpb24+DQogICAgICAgIDxWYWx1ZT4NCiAgICAgICAgICAgIDxJdGVtIFZhbHVlVHlwZT0iRnJvbnRlbmRSZWdpc3RyYXRpb24iPg0KICAgICAgICAgICAgICAgIDxIYXNoPg0KICAgICAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ikdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJheT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvQXJyYXk+DQogICAgICAgICAgICAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJHcm91cFJvIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJheT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvQXJyYXk+DQogICAgICAgICAgICAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJEZXNjcmlwdGlvbiIgVHJhbnNsYXRhYmxlPSIxIj5BZ2VudCBUaWNrZXQgQ3VzdG9tZXIgU2Vzc2lvbi48L0l0ZW0+DQogICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iVGl0bGUiIFRyYW5zbGF0YWJsZT0iMSI+QWdlbnQgVGlja2V0IEN1c3RvbWVyIFNlc3Npb248L0l0ZW0+DQogICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTmF2QmFyTmFtZSI+QWdlbnQgVGlja2V0IEN1c3RvbWVyIFNlc3Npb248L0l0ZW0+DQogICAgICAgICAgICAgICAgPC9IYXNoPg0KICAgICAgICAgICAgPC9JdGVtPg0KICAgICAgICA8L1ZhbHVlPg0KICAgIDwvU2V0dGluZz4NCgk8U2V0dGluZyBOYW1lPSJUaWNrZXQ6OkZyb250ZW5kOjpBZ2VudFRpY2tldEN1c3RvbWVyU2Vzc2lvbiMjI0R5bmFtaWNGaWVsZCIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4NCiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+VGlja2V0IGR5bmFtaWMgZmllbGRzIHRoYXQgaG9sZCB0ZW1wb3JhcnkgY3VzdG9tZXIgdXNlciBzZXNzaW9uIHZhbHVlIGZvciBtb2R1bGUgUHVibGljVGlja2V0Q2xvc2UuPC9EZXNjcmlwdGlvbj4NCiAgICAgICAgPE5hdmlnYXRpb24+RnJvbnRlbmQ6OkFnZW50OjpWaWV3OjpUaWNrZXRDdXN0b21lclNlc3Npb248L05hdmlnYXRpb24+DQogICAgICAgIDxWYWx1ZT4NCgkJCTxJdGVtIFZhbHVlVHlwZT0iU3RyaW5nIj5DdXN0b21lclNlc3Npb248L0l0ZW0+DQoJCTwvVmFsdWU+DQogICAgPC9TZXR0aW5nPgkNCjwvb3Ryc19jb25maWc+</File>
        <File Location="Kernel/Modules/PublicTicketClose.pm" Permission="644" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAyMyBtby1hemZhciwgaHR0cHM6Ly9naXRodWIuY29tL21vLWF6ZmFyCiMgLS0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0LgojCiMgVVJMIC0gaHR0cHM6Ly9hcHAud3NsLm15L3pudW55LWRldmVsL3B1YmxpYy5wbD9BY3Rpb249UHVibGljVGlja2V0Q2xvc2U7U2Vzc2lvbklEPTxHRU5FUkFURURfU0VTU0lPTl9JRD47VGlja2V0TnVtYmVyPTxPVFJTX1RJQ0tFVF9UaWNrZXROdW1iZXI+CiMgLS0KCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpQdWJsaWNUaWNrZXRDbG9zZTsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnVzZSBLZXJuZWw6OlN5c3RlbTo6VmFyaWFibGVDaGVjayBxdyg6YWxsKTsKdXNlIEtlcm5lbDo6TGFuZ3VhZ2UgcXcoVHJhbnNsYXRhYmxlKTsKCm91ciAkT2JqZWN0TWFuYWdlckRpc2FibGVkID0gMTsKCnN1YiBuZXcgewogICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGFsbG9jYXRlIG5ldyBoYXNoIGZvciBvYmplY3QKICAgIG15ICRTZWxmID0geyVQYXJhbX07CiAgICBibGVzcyggJFNlbGYsICRUeXBlICk7CgogICAgcmV0dXJuICRTZWxmOwp9CgpzdWIgUnVuIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJFBhcmFtT2JqZWN0ICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpXZWI6OlJlcXVlc3QnKTsKICAgIG15ICRUaWNrZXRPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6VGlja2V0Jyk7CglteSAkTGF5b3V0T2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpPdXRwdXQ6OkhUTUw6OkxheW91dCcpOwoJCiAgICBteSAlR2V0UGFyYW07CiAgICBmb3IgbXkgJE5lZWRlZCAoIHF3KCBTZXNzaW9uSUQgVGlja2V0TnVtYmVyICkgKQoJewogICAgICAgICRHZXRQYXJhbXskTmVlZGVkfSA9ICRQYXJhbU9iamVjdC0+R2V0UGFyYW0oIFBhcmFtID0+ICROZWVkZWQgKTsKICAgICAgICAKICAgICAgICBpZiAoICEkR2V0UGFyYW17JE5lZWRlZH0gKSB7CiAgICAgICAgICAgIHJldHVybiAkTGF5b3V0T2JqZWN0LT5DdXN0b21lck5vUGVybWlzc2lvbiggV2l0aEhlYWRlciA9PiAneWVzJyApOwogICAgICAgIH0KCX0KCiAgICAjdmFsaWRhdGUgc2Vzc2lvbiAKICAgICNtYWtlIHN1cmUgdXNlIGZyb20gZ2VuZXJhdGVkIG9uZSB3aXRoIHZhbGlkIHRpY2tldCBudW1iZXIuCiAgICAjYWxzbyBjaGVjayB1c2VyIGFjY2VzcwogICAgbXkgJVNlc3Npb25DaGVjayA9ICRTZWxmLT5fU2Vzc2lvbkNoZWNrKAoJCVNlc3Npb25JRCAgPT4gJEdldFBhcmFte1Nlc3Npb25JRH0sCiAgICAgICAgVGlja2V0TnVtYmVyID0+ICRHZXRQYXJhbXtUaWNrZXROdW1iZXJ9LAogICAgKTsKCiAgICBpZiAoICRTZXNzaW9uQ2hlY2t7U3RhdHVzfSBlcSAnRXJyb3InICkKICAgIHsKICAgICAgICAjcmV0dXJuICRMYXlvdXRPYmplY3QtPkN1c3RvbWVyTm9QZXJtaXNzaW9uKCBXaXRoSGVhZGVyID0+ICd5ZXMnICk7CiAgICAgICAgJExheW91dE9iamVjdC0+QmxvY2soCgkJCU5hbWUgPT4gJ0Vycm9yJywKCQkJRGF0YSA9PiB7CgkJCSAgICBNZXNzYWdlID0+ICRTZXNzaW9uQ2hlY2t7TWVzc2FnZX0sCgkJCX0sCgkJKTsKICAgIH0KCiAgICBlbHNlCiAgICB7CiAgICAgICAgbXkgJFRpY2tldE9iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpUaWNrZXQnKTsKICAgICAgICBteSAkQ29uZmlnT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpDb25maWcnKTsKCiAgICAgICAgbXkgJVRpY2tldCA9ICRUaWNrZXRPYmplY3QtPlRpY2tldEdldCgKICAgICAgICAgICAgVGlja2V0SUQgICAgICA9PiAkU2Vzc2lvbkNoZWNre1RpY2tldElEfSwKICAgICAgICAgICAgRHluYW1pY0ZpZWxkcyA9PiAwLAogICAgICAgICk7CgogICAgICAgIGlmICggJFRpY2tldHtTdGF0ZX0gPX4gL15jbG9zZS9pICkKICAgICAgICB7CiAgICAgICAgICAgICRMYXlvdXRPYmplY3QtPkJsb2NrKAogICAgICAgICAgICAgICAgTmFtZSA9PiAnQ2xvc2VkJywKICAgICAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIFRpY2tldE51bWJlciA9PiAkU2Vzc2lvbkNoZWNre1RpY2tldE51bWJlcn0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICBlbHNlIAogICAgICAgIHsKICAgICAgICAgICAgbXkgJFN1Y2Nlc3MgPSAkVGlja2V0T2JqZWN0LT5UaWNrZXRTdGF0ZVNldCgKICAgICAgICAgICAgICAgIFN0YXRlICAgID0+ICdjbG9zZWQgc3VjY2Vzc2Z1bCcsCiAgICAgICAgICAgICAgICBUaWNrZXRJRCA9PiAkU2Vzc2lvbkNoZWNre1RpY2tldElEfSwKICAgICAgICAgICAgICAgIFVzZXJJRCAgICA9PiAkQ29uZmlnT2JqZWN0LT5HZXQoJ0N1c3RvbWVyUGFuZWxVc2VySUQnKSwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICggISRTdWNjZXNzICkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbXkgJE91dHB1dCA9ICRMYXlvdXRPYmplY3QtPkN1c3RvbWVySGVhZGVyKAogICAgICAgICAgICAgICAgICAgIFRpdGxlID0+IFRyYW5zbGF0YWJsZSgnRXJyb3InKSwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAkT3V0cHV0IC49ICRMYXlvdXRPYmplY3QtPkN1c3RvbWVyRXJyb3IoCiAgICAgICAgICAgICAgICAgICAgTWVzc2FnZSA9PiBUcmFuc2xhdGFibGUoIlVuZm9ydHVuYXRlbHksICBUaWNrZXQjJFNlc3Npb25DaGVja3tUaWNrZXROdW1iZXJ9IGNhbid0IGJlIGNsb3NlLiIpLAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICRPdXRwdXQgLj0gJExheW91dE9iamVjdC0+Q3VzdG9tZXJGb290ZXIoKTsKICAgICAgICAgICAgICAgIHJldHVybiAkT3V0cHV0OwkJCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICMgc2V0IHVubG9jayBvbiBjbG9zZSBzdGF0ZQogICAgICAgICAgICAkVGlja2V0T2JqZWN0LT5UaWNrZXRMb2NrU2V0KAogICAgICAgICAgICAgICAgVGlja2V0SUQgPT4gJFNlc3Npb25DaGVja3tUaWNrZXRJRH0sCiAgICAgICAgICAgICAgICBMb2NrICAgICA9PiAndW5sb2NrJywKICAgICAgICAgICAgICAgIFVzZXJJRCAgID0+ICRDb25maWdPYmplY3QtPkdldCgnQ3VzdG9tZXJQYW5lbFVzZXJJRCcpLAogICAgICAgICAgICApOwogICAgICAgICAgICAKICAgICAgICAgICAgbXkgJEFydGljbGVPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6VGlja2V0OjpBcnRpY2xlJyk7CiAgICAgICAgICAgIG15ICRBcnRpY2xlQmFja2VuZE9iamVjdCA9ICRBcnRpY2xlT2JqZWN0LT5CYWNrZW5kRm9yQ2hhbm5lbCggQ2hhbm5lbE5hbWUgPT4gJ0ludGVybmFsJyApOwogICAgICAgICAgICBteSAkQXJ0aWNsZUlEID0gJEFydGljbGVCYWNrZW5kT2JqZWN0LT5BcnRpY2xlQ3JlYXRlKAogICAgICAgICAgICAgICAgVGlja2V0SUQgICAgICAgICAgICAgPT4gJFNlc3Npb25DaGVja3tUaWNrZXRJRH0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBTZW5kZXJUeXBlICAgICAgICAgICA9PiAnY3VzdG9tZXInLCAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIElzVmlzaWJsZUZvckN1c3RvbWVyID0+IDEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgVXNlcklEICAgICAgICAgICAgICAgPT4gJENvbmZpZ09iamVjdC0+R2V0KCdDdXN0b21lclBhbmVsVXNlcklEJyksIAogICAgICAgICAgICAgICAgRnJvbSAgICAgICAgICAgPT4gICRTZXNzaW9uQ2hlY2t7RnJvbX0sICAgICAgIAogICAgICAgICAgICAgICAgU3ViamVjdCAgICAgICAgPT4gJFRpY2tldHtUaXRsZX0sICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBCb2R5ICAgICAgICAgICA9PiAnQXV0byBnZW5lcmF0ZWQgbm90ZWQuPGJyLz5UaWNrZXQgbm93IGNsb3NlZCBieSBjdXN0b21lci4nLCAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgQ29udGVudFR5cGUgICAgPT4gJ3RleHQvaHRtbDsgY2hhcnNldD1VVEYtOCcsICAgICAgCiAgICAgICAgICAgICAgICBIaXN0b3J5VHlwZSAgICA9PiAnRm9sbG93VXAnLCAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgSGlzdG9yeUNvbW1lbnQgPT4gJ0FkZGVkIGZvbGxvdy11cCBmcm9tIEN1c3RvbWVyVGlja2V0Q2xvc2UgdG8gdGlja2V0JywKICAgICAgICAgICAgICAgIE5vQWdlbnROb3RpZnkgICAgPT4gMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgeW91IGRvbid0IHdhbnQgdG8gc2VuZCBhZ2VudCBub3RpZmljYXRpb25zCiAgICAgICAgICAgICk7CgogICAgICAgICAgICAkTGF5b3V0T2JqZWN0LT5CbG9jaygKICAgICAgICAgICAgICAgIE5hbWUgPT4gJ0Nsb3NpbmcnLAogICAgICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgVGlja2V0TnVtYmVyID0+ICRTZXNzaW9uQ2hlY2t7VGlja2V0TnVtYmVyfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIAogICAgICAgIH0KCiAgICAgICAgbXkgJFNlc3Npb25PYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6QXV0aFNlc3Npb24nKTsKCSAgICAjIGRlc3Ryb3kgZ2VuZXJhdGVkIHNlc3Npb24KCSAgICAkU2Vzc2lvbk9iamVjdC0+UmVtb3ZlU2Vzc2lvbklEKFNlc3Npb25JRCA9PiAkR2V0UGFyYW17U2Vzc2lvbklEfSk7CgogICAgfQogICAgCiAgIAkjIGdlbmVyYXRlIG91dHB1dAogICAgbXkgJE91dHB1dCA9ICRMYXlvdXRPYmplY3QtPkN1c3RvbWVySGVhZGVyKCBWYWx1ZSA9PiAnQ2xvc2UgVGlja2V0JyApOwoJCgkkT3V0cHV0ICAuPSAkTGF5b3V0T2JqZWN0LT5PdXRwdXQoCiAgICAgICAgVGVtcGxhdGVGaWxlID0+ICdQdWJsaWNUaWNrZXRDbG9zZScsCgkJRGF0YSAgICAgICAgID0+IHsgCgkJCSVQYXJhbSwgCgkJfSwKICAgICk7CgkKICAgICRPdXRwdXQgICAuPSAkTGF5b3V0T2JqZWN0LT5DdXN0b21lckZvb3RlcigpOwoJCglyZXR1cm4gJE91dHB1dDsKCSAgCn0KCnN1YiBfU2Vzc2lvbkNoZWNrIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJVNlc3Npb25WYWxpZGF0ZTsKCglteSAkU2Vzc2lvbk9iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpBdXRoU2Vzc2lvbicpOwoJbXkgJVNlc3Npb25EYXRhID0gJFNlc3Npb25PYmplY3QtPkdldFNlc3Npb25JRERhdGEoCiAgICAgICAgU2Vzc2lvbklEID0+ICRQYXJhbXtTZXNzaW9uSUR9LAogICAgKTsKCiAgICAjSW52YWxpZCBTZXNzaW9uIERhdGEhCiAgICBpZiAoICRTZXNzaW9uRGF0YXtTZXNzaW9uU291cmNlfSBuZSAnR2VuZXJpY0ludGVyZmFjZScgKQoJewogICAgICAgICRTZXNzaW9uVmFsaWRhdGV7U3RhdHVzfSA9ICdFcnJvcic7CiAgICAgICAgJFNlc3Npb25WYWxpZGF0ZXtNZXNzYWdlfSA9ICdVbmZvcnR1bmF0ZWx5LCBUaGlzIFNlc3Npb24gTm8gTG9uZ2VyIFZhbGlkJzsKCQlyZXR1cm4gJVNlc3Npb25WYWxpZGF0ZTsKCX0KCQogICAgI0ludmFsaWQgVGlja2V0IE51bWJlciBpbiBVUkwKICAgIGlmICggJFNlc3Npb25EYXRhe1RpY2tldE51bWJlcn0gbmUgJFBhcmFte1RpY2tldE51bWJlcn0gKQoJewogICAgICAgICRTZXNzaW9uVmFsaWRhdGV7U3RhdHVzfSA9ICdFcnJvcic7CiAgICAgICAgJFNlc3Npb25WYWxpZGF0ZXtNZXNzYWdlfSA9ICdJbnZhbGlkIFRpY2tldCBOdW1iZXInOwoJCXJldHVybiAlU2Vzc2lvblZhbGlkYXRlOwoJfQoKICAgIG15ICRUaWNrZXRPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6VGlja2V0Jyk7CgogICAgI3NlYXJjaCBmb3IgdGlja2V0IGlkCiAgICBteSAkVGlja2V0SUQgPSAkVGlja2V0T2JqZWN0LT5UaWNrZXRJRExvb2t1cCggCiAgICAgICAgVGlja2V0TnVtYmVyID0+ICRTZXNzaW9uRGF0YXtUaWNrZXROdW1iZXJ9LAogICAgICAgIFVzZXJJRCAgICAgICA9PiAkU2Vzc2lvbkRhdGF7VXNlcklEfSwKICAgICk7CgogICAgaWYgKCAhJFRpY2tldElEICkKICAgIHsKICAgICAgICAkU2Vzc2lvblZhbGlkYXRle1N0YXR1c30gPSAnRXJyb3InOwogICAgICAgICRTZXNzaW9uVmFsaWRhdGV7TWVzc2FnZX0gPSAnVGlja2V0IE5vdCBGb3VuZCc7CgkJcmV0dXJuICVTZXNzaW9uVmFsaWRhdGU7CiAgICB9CgogICAgIyBjaGVjayBhY2Nlc3MgcGVybWlzc2lvbnMKICAgIG15ICRBY2Nlc3MgPSAkVGlja2V0T2JqZWN0LT5UaWNrZXRDdXN0b21lclBlcm1pc3Npb24oCiAgICAgICAgVHlwZSAgICAgPT4gJ3JvJywKICAgICAgICBUaWNrZXRJRCA9PiAkVGlja2V0SUQsCiAgICAgICAgVXNlcklEICAgPT4gJFNlc3Npb25EYXRhe1VzZXJJRH0sCiAgICApOwoKICAgIGlmICggISRBY2Nlc3MgKQogICAgewogICAgICAgICRTZXNzaW9uVmFsaWRhdGV7U3RhdHVzfSA9ICdFcnJvcic7CiAgICAgICAgJFNlc3Npb25WYWxpZGF0ZXtNZXNzYWdlfSA9ICdZb3UgaGF2ZSBubyBwZXJtaXNzaW9uJzsKCQlyZXR1cm4gJVNlc3Npb25WYWxpZGF0ZTsKICAgIH0KCiAgICAkU2Vzc2lvblZhbGlkYXRle1N0YXR1c30gPSAnT0snOwogICAgJFNlc3Npb25WYWxpZGF0ZXtUaWNrZXRJRH0gPSAkVGlja2V0SUQ7CiAgICAkU2Vzc2lvblZhbGlkYXRle1RpY2tldE51bWJlcn0gPSAkU2Vzc2lvbkRhdGF7VGlja2V0TnVtYmVyfTsKICAgICRTZXNzaW9uVmFsaWRhdGV7RnJvbX0gPSAiXCIkU2Vzc2lvbkRhdGF7VXNlckZ1bGxuYW1lfVwiIDwkU2Vzc2lvbkRhdGF7VXNlckVtYWlsfT4iOwogICAKICAgIHJldHVybiAlU2Vzc2lvblZhbGlkYXRlOwp9CgoxOw==</File>
        <File Location="Kernel/Output/HTML/Templates/Standard/PublicTicketClose.tt" Permission="644" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAyMyBtby1hemZhciwgaHR0cHM6Ly9naXRodWIuY29tL21vLWF6ZmFyCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMjEgT1RSUyBBRywgaHR0cHM6Ly9vdHJzLmNvbS8KIyBDb3B5cmlnaHQgKEMpIDIwMjEgWm51bnkgR21iSCwgaHR0cHM6Ly96bnVueS5vcmcvCiMgLS0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0LgojIC0tCgo8ZGl2IGlkPSJNYWluQm94IiBjbGFzcz0iTG9naW4iPgogICAgPGRpdiBjbGFzcz0iQ29udGVudCI+CiAgICAgICAgWyUgUmVuZGVyQmxvY2tTdGFydCgiRXJyb3IiKSAlXQogICAgICAgIDxoMj5bJSBEYXRhLk1lc3NhZ2UgfCBodG1sICVdPC9oMj4KICAgICAgICA8aDM+PGEgaHJlZj0iWyUgRW52KCJCYXNlbGluayIpICVdIj5bJSBUcmFuc2xhdGUoIlZpc2l0IE91ciBGQVEgSGVyZSIpIHwgaHRtbCAlXTwvYT48L2gzPgogICAgICAgIFslIFJlbmRlckJsb2NrRW5kKCJFcnJvciIpICVdCQogICAgICAgIFslIFJlbmRlckJsb2NrU3RhcnQoIkNsb3NpbmciKSAlXQogICAgICAgIDxoMj5bJSBUcmFuc2xhdGUoIlRpY2tldCMiKSB8IGh0bWwgJV1bJSBEYXRhLlRpY2tldE51bWJlciB8IGh0bWwgJV1bJSBUcmFuc2xhdGUoIiBpcyBub3cgY2xvc2VkLiIpIHwgaHRtbCAlXTwvaDI+CiAgICAgICAgPGgzPlslIFRyYW5zbGF0ZSgiRG9udCBGb3JnZXQgdG8gUmF0ZSBVcyBMYXRlci4iKSB8IGh0bWwgJV08L2gzPgogICAgICAgIDxoMz48YSBocmVmPSJbJSBFbnYoIkJhc2VsaW5rIikgJV0iPlslIFRyYW5zbGF0ZSgiVmlzaXQgT3VyIEZBUSBIZXJlIikgfCBodG1sICVdPC9hPjwvaDM+CiAgICAgICAgWyUgUmVuZGVyQmxvY2tFbmQoIkNsb3NpbmciKSAlXQkKICAgICAgICBbJSBSZW5kZXJCbG9ja1N0YXJ0KCJDbG9zZWQiKSAlXQogICAgICAgIDxoMj5bJSBUcmFuc2xhdGUoIlRpY2tldCMiKSB8IGh0bWwgJV1bJSBEYXRhLlRpY2tldE51bWJlciB8IGh0bWwgJV1bJSBUcmFuc2xhdGUoIiBhbHJlYWR5IGNsb3NlZC4iKSB8IGh0bWwgJV08L2gyPgogICAgICAgIDxoMz5bJSBUcmFuc2xhdGUoIkRvbnQgRm9yZ2V0IHRvIFJhdGUgVXMgTGF0ZXIuIikgfCBodG1sICVdPC9oMz4KICAgICAgICA8aDM+PGEgaHJlZj0iWyUgRW52KCJCYXNlbGluayIpICVdIj5bJSBUcmFuc2xhdGUoIlZpc2l0IE91ciBGQVEgSGVyZSIpIHwgaHRtbCAlXTwvYT48L2gzPgogICAgICAgIFslIFJlbmRlckJsb2NrRW5kKCJDbG9zZWQiKSAlXQkKICAgIDwvZGl2Pgo8L2Rpdj4K</File>
        <File Location="Kernel/Modules/AgentTicketCustomerSession.pm" Permission="644" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAyIG1vLWF6ZmFyLGh0dHBzOi8vZ2l0aHViLmNvbS9tby1hemZhci8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpBZ2VudFRpY2tldEN1c3RvbWVyU2Vzc2lvbjsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnVzZSBLZXJuZWw6Okxhbmd1YWdlIHF3KFRyYW5zbGF0YWJsZSk7CgpzdWIgbmV3IHsKICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87CgogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CiAgICBteSAkU2VsZiA9IHslUGFyYW19OwogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOwoKICAgIHJldHVybiAkU2VsZjsKfQoKc3ViIFJ1biB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgIG15ICRMYXlvdXRPYmplY3QgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpPdXRwdXQ6OkhUTUw6OkxheW91dCcpOwogICAgbXkgJFRpY2tldE9iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpUaWNrZXQnKTsKCiAgICBpZiAoICEkU2VsZi0+e1RpY2tldElEfSApIHsKICAgICAgICByZXR1cm4gJExheW91dE9iamVjdC0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gJ05vIFRpY2tldElEIGlzIGdpdmVuIScsCiAgICAgICAgICAgIENvbW1lbnQgPT4gJ1BsZWFzZSBjb250YWN0IHRoZSBhZG1pbi4nLAogICAgICAgICk7CiAgICB9CgogICAgbXkgJEFjY2Vzc09rID0gJFRpY2tldE9iamVjdC0+T3duZXJDaGVjaygKICAgICAgICBUaWNrZXRJRCA9PiAkU2VsZi0+e1RpY2tldElEfSwKICAgICAgICBPd25lcklEICA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICApOwoKICAgIGlmICggISRBY2Nlc3NPayApCgl7CgkJcmV0dXJuICRMYXlvdXRPYmplY3QtPkVycm9yU2NyZWVuKAogICAgICAgICAgICBNZXNzYWdlID0+ICdOZWVkIG93bmVyIScsCiAgICAgICAgICAgIENvbW1lbnQgPT4gJ1BsZWFzZSBjb250YWN0IHRoZSBhZG1pbi4nLAogICAgICAgICk7Cgl9CgogICAgbXkgJENvbmZpZ09iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6Q29uZmlnJyk7CiAgICBteSAkQ3VzdG9tZXJVc2VyT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkN1c3RvbWVyVXNlcicpOwogICAgbXkgJFNlc3Npb25PYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6QXV0aFNlc3Npb24nKTsKICAgIG15ICREeW5hbWljRmllbGRPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkJyk7CglteSAkRHluYW1pY0ZpZWxkQmFja2VuZE9iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQ6OkJhY2tlbmQnKTsKCW15ICREYXRlVGltZU9iamVjdCA9ICRLZXJuZWw6Ok9NLT5DcmVhdGUoJ0tlcm5lbDo6U3lzdGVtOjpEYXRlVGltZScpOwoJbXkgJEVwb2NoID0gJERhdGVUaW1lT2JqZWN0LT5Ub0Vwb2NoKCk7CgogICAgbXkgJVRpY2tldCA9ICRUaWNrZXRPYmplY3QtPlRpY2tldEdldCgKICAgICAgICBUaWNrZXRJRCAgICAgID0+ICRTZWxmLT57VGlja2V0SUR9LAogICAgICAgIER5bmFtaWNGaWVsZHMgPT4gMCwKICAgICk7CgkKICAgICNqdXN0IGluIGNhc2UgdGlja2V0IGN1c3RvbWVyIGNoYW5nZSBmcm9tIHZhbGlkIHRvIG5vbiB2YWxpZC4KICAgIG15ICVVc2VyRGF0YSA9ICRDdXN0b21lclVzZXJPYmplY3QtPkN1c3RvbWVyVXNlckRhdGFHZXQoCiAgICAgICAgVXNlciAgPT4gJFRpY2tldHtDdXN0b21lclVzZXJJRH0sCiAgICAgICAgVmFsaWQgPT4gMSwKICAgICk7CgkKICAgIGlmICggISRVc2VyRGF0YXtVc2VySUR9ICkKICAgIHsKICAgICAgICByZXR1cm4gJExheW91dE9iamVjdC0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gJ05lZWQgYSB2YWxpZCBjdXN0b21lciB1c2VyIScsCiAgICAgICAgICAgIENvbW1lbnQgPT4gJ1BsZWFzZSBjb250YWN0IHRoZSBhZG1pbi4nLAogICAgICAgICk7CiAgICB9IAoKICAgIG15ICREeW5hbWljRmllbGROYW1lID0gJENvbmZpZ09iamVjdC0+R2V0KCdUaWNrZXQ6OkZyb250ZW5kOjpBZ2VudFRpY2tldEN1c3RvbWVyU2Vzc2lvbicpLT57J0R5bmFtaWNGaWVsZCd9OwoKICAgIGlmICggISREeW5hbWljRmllbGROYW1lICkKICAgIHsKICAgICAgICByZXR1cm4gJExheW91dE9iamVjdC0+RXJyb3JTY3JlZW4oCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gJ1RpY2tldDo6RnJvbnRlbmQ6OkFnZW50VGlja2V0Q3VzdG9tZXJTZXNzaW9uIyMjRHluYW1pY0ZpZWxkIGlzIG5vdCBzZXQnLAogICAgICAgICAgICBDb21tZW50ID0+ICdQbGVhc2UgY29udGFjdCB0aGUgYWRtaW4uJywKICAgICAgICApOwogICAgfQogICAgCglteSAkRHluYW1pY0ZpZWxkQ3VzdG9tZXJTZXNzaW9uID0gJER5bmFtaWNGaWVsZE9iamVjdC0+RHluYW1pY0ZpZWxkR2V0KAogICAgICAgIE5hbWUgPT4gJER5bmFtaWNGaWVsZE5hbWUsCiAgICApOwoKICAgIGlmICggISV7JER5bmFtaWNGaWVsZEN1c3RvbWVyU2Vzc2lvbn0gKQogICAgewogICAgICAgIHJldHVybiAkTGF5b3V0T2JqZWN0LT5FcnJvclNjcmVlbigKICAgICAgICAgICAgTWVzc2FnZSA9PiAnVGlja2V0OjpGcm9udGVuZDo6QWdlbnRUaWNrZXRDdXN0b21lclNlc3Npb24jIyNEeW5hbWljRmllbGQgaXMgbm90IGEgdmFsaWQgZmllbGQnLAogICAgICAgICAgICBDb21tZW50ID0+ICdQbGVhc2UgY29udGFjdCB0aGUgYWRtaW4uJywKICAgICAgICApOwogICAgfQoKICAgIG15ICRDdXN0b21lclNlc3Npb25WYWx1ZSA9ICREeW5hbWljRmllbGRCYWNrZW5kT2JqZWN0LT5WYWx1ZUdldCgKICAgICAgICBEeW5hbWljRmllbGRDb25maWcgPT4gJER5bmFtaWNGaWVsZEN1c3RvbWVyU2Vzc2lvbiwgIAogICAgICAgIE9iamVjdElEICAgICAgICAgICA9PiAkU2VsZi0+e1RpY2tldElEfSwgICAgICAKICAgICk7CgogICAgaWYgKCAkQ3VzdG9tZXJTZXNzaW9uVmFsdWUgKQogICAgewogICAgICAgICNyZW1vdmUgZXhpc3Rpbmcgc2Vzc2lvbiBpZAogICAgICAgICRTZXNzaW9uT2JqZWN0LT5SZW1vdmVTZXNzaW9uSUQoU2Vzc2lvbklEID0+ICRDdXN0b21lclNlc3Npb25WYWx1ZSk7CiAgICB9CgogICAgI2NyZWF0ZSBuZXcgY3VzdG9tZXIgc2Vzc2lvbiB3aXRoIHRpY2tldCBudW1iZXIKCW15ICROZXdTZXNzaW9uSUQgPSAkU2Vzc2lvbk9iamVjdC0+Q3JlYXRlU2Vzc2lvbklEKAogICAgICAgICVVc2VyRGF0YSwKICAgICAgICBVc2VyTGFzdFJlcXVlc3QgPT4gJEVwb2NoLAogICAgICAgIFVzZXJUeXBlICAgICAgICA9PiAnQ3VzdG9tZXInLAogICAgICAgIFNlc3Npb25Tb3VyY2UgICA9PiAnR2VuZXJpY0ludGVyZmFjZScsCgkJVGlja2V0TnVtYmVyICAgID0+JFRpY2tldHtUaWNrZXROdW1iZXJ9LAogICAgKTsKCiAgICBteSAkU2V0Q3VzdG9tZXJTZXNzaW9uVmFsdWUgPSAkRHluYW1pY0ZpZWxkQmFja2VuZE9iamVjdC0+VmFsdWVTZXQoCiAgICAgICAgRHluYW1pY0ZpZWxkQ29uZmlnID0+ICREeW5hbWljRmllbGRDdXN0b21lclNlc3Npb24sICAgICAgCiAgICAgICAgT2JqZWN0SUQgICAgICAgICAgID0+ICRTZWxmLT57VGlja2V0SUR9LCAgICAgICAgICAgCiAgICAgICAgVmFsdWUgICAgICAgICAgICAgID0+ICROZXdTZXNzaW9uSUQsCiAgICAgICAgVXNlcklEICAgICAgICAgICAgID0+ICRTZWxmLT57VXNlcklEfSwKICAgICk7CgogICAgI3JldHVybiBvdXRwdXQKICAgIHJldHVybiAkTGF5b3V0T2JqZWN0LT5SZWRpcmVjdCgKICAgICAgICBPUCA9PiAiQWN0aW9uPUFnZW50VGlja2V0Wm9vbTtUaWNrZXRJRD0kU2VsZi0+e1RpY2tldElEfSIsCiAgICApOwp9CgoxOw==</File>
    </Filelist>
</otrs_package>